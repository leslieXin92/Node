import{w,a as f,b as Y,d as y,r as A,u as b,s as L,o as d,c as l,F as h,e as B,t as _,f as D,g as r,h as S,i as E,p as I,j as T,_ as x}from"./index-8d1eaef1.js";const C=t=>{const{params:s,originData:n}=t,u=[{id:0,title:"浅谈node之koa",createAt:16725312e5},{id:1,title:"浅谈node之koa",createAt:16725312e5},{id:2,title:"浅谈node之koa",createAt:16725312e5},{id:3,title:"浅谈node之koa",createAt:16409952e5},{id:4,title:"浅谈node之koa",createAt:16409952e5},{id:5,title:"浅谈node之koa",createAt:16409952e5},{id:6,title:"浅谈node之koa",createAt:16409952e5},{id:7,title:"浅谈node之koa",createAt:16409952e5},{id:8,title:"浅谈node之koa",createAt:16409952e5},{id:9,title:"浅谈node之koa",createAt:16409952e5},{id:10,title:"浅谈node之koa",createAt:16409952e5},{id:11,title:"浅谈node之koa",createAt:16409952e5},{id:12,title:"浅谈node之koa",createAt:16409952e5},{id:13,title:"浅谈node之koa",createAt:16409952e5},{id:14,title:"浅谈node之koa",createAt:16409952e5},{id:15,title:"浅谈node之koa",createAt:16409952e5},{id:16,title:"浅谈node之koa",createAt:16094304e5},{id:17,title:"浅谈node之koa",createAt:16094304e5},{id:18,title:"浅谈node之koa",createAt:16094304e5},{id:19,title:"浅谈node之koa",createAt:16094304e5}],c=async()=>{const o=document.documentElement.scrollTop||document.body.scrollTop,p=document.documentElement.clientHeight,i=document.documentElement.scrollHeight;if(o+p>=i){const g=u.reduce((e,a)=>{var m;const v=new Date((m=e[e.length-1])==null?void 0:m.createAt).getFullYear(),k=new Date(a.createAt).getFullYear();return k!==v&&(a.showYear=!0,a.newYear=k),e.concat([a])},[]);n.value.push(...g),s.value.pageNum++}};w(n,o=>{console.log(o)},{deep:!0}),f(async()=>{await c(),window.addEventListener("scroll",c)}),Y(()=>{window.removeEventListener("scroll",c)})},F=t=>(I("data-v-1d22e90b"),t=t(),T(),t),H={class:"blogList"},M={key:0,class:"year"},N={class:"blogItem"},j=["onClick"],R=F(()=>r("div",{class:"dot"},null,-1)),U={class:"time"},V=y({__name:"Blog",setup(t){const s=A([]),n=b(),{isLogin:u}=L(n),o={params:A({type:u?"private":"public",pageNum:1,pageSize:10}),originData:s};C(o);const p=i=>{window.getSelection().removeAllRanges(),console.log(i)};return(i,g)=>(d(),l("div",H,[(d(!0),l(h,null,B(s.value,e=>(d(),l(h,{key:e.id},[e.showYear?(d(),l("div",M,_(e.newYear),1)):D("",!0),r("div",N,[r("div",{class:"blogTitle",onClick:a=>p(e.id)},_(e.title),9,j),R,r("div",U,_(S(E)(e.createAt).format("YYYY-MM-DD")),1)])],64))),128))]))}});const $=x(V,[["__scopeId","data-v-1d22e90b"]]);export{$ as default};
